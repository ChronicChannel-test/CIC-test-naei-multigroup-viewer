<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Failure Testing</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        .test-section { margin: 30px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .test-button { padding: 10px 15px; background: #007cba; color: white; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .test-button:hover { background: #005a8a; }
        .instructions { background: #f0f8ff; padding: 15px; border-radius: 4px; margin: 10px 0; }
        code { background: #f5f5f5; padding: 2px 5px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>ğŸ§ª NAEI Viewer - Network Failure Testing</h1>
    
    <div class="instructions">
        <strong>How to test:</strong> Choose a method below to simulate network issues, then test your application.
    </div>

    <div class="test-section">
        <h2>ğŸŒ Method 1: Browser DevTools (Recommended)</h2>
        <ol>
            <li>Open your app in a new tab</li>
            <li>Press <code>F12</code> to open DevTools</li>
            <li>Go to <strong>Network</strong> tab</li>
            <li>Find the throttling dropdown (usually says "No throttling")</li>
            <li>Select <strong>"Offline"</strong></li>
            <li>Reload the page</li>
        </ol>
        <button class="test-button" onclick="openApp()">ğŸš€ Open Supabase App</button>
    </div>

    <div class="test-section">
        <h2>ğŸš« Method 2: Block Supabase Specifically</h2>
        <ol>
            <li>Open DevTools â†’ Network tab</li>
            <li>Look for <strong>"Network request blocking"</strong> tab</li>
            <li>Click <strong>"+"</strong> to add pattern</li>
            <li>Add: <code>*supabase.co*</code></li>
            <li>Reload the page</li>
        </ol>
        <p><strong>This tests:</strong> What happens when only Supabase is down, but other resources work</p>
    </div>

    <div class="test-section">
        <h2>âš¡ Method 3: Slow Network Simulation</h2>
        <ol>
            <li>DevTools â†’ Network â†’ Throttling</li>
            <li>Select <strong>"Slow 3G"</strong> or <strong>"Fast 3G"</strong></li>
            <li>Reload the page</li>
        </ol>
        <p><strong>This tests:</strong> Loading states and timeouts</p>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ Method 4: Modify Supabase URL (Advanced)</h2>
        <p>Temporarily change the Supabase URL in the code:</p>
        <code>const SUPABASE_URL = 'https://invalid-url.supabase.co';</code>
        <p><strong>This tests:</strong> Invalid endpoint handling</p>
    </div>

    <div class="test-section">
        <h2>âœ… Expected Behaviors When Testing</h2>
        <ul>
            <li><strong>Loading state:</strong> Should show "Initializing Supabase data..."</li>
            <li><strong>Network error:</strong> Should show user-friendly error message</li>
            <li><strong>Retry button:</strong> Should appear and work</li>
            <li><strong>No crashes:</strong> Page should not break completely</li>
            <li><strong>Console logging:</strong> Should show technical error details</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š Comparison Test</h2>
        <p>Test both versions to compare resilience:</p>
        <button class="test-button" onclick="window.open('index.html', '_blank')">ğŸŸ¦ Test v1.0 (Google Sheets)</button>
        <button class="test-button" onclick="window.open('supabase-test/index.html', '_blank')">ğŸŸ© Test v2.0-beta (Supabase)</button>
    </div>

    <script>
        function openApp() {
            window.open('supabase-test/index.html', '_blank');
        }

        // Add some styling for better UX
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ§ª Network Testing Helper Loaded');
            console.log('Use the methods above to simulate network failures');
        });
    </script>
</body>
</html>